# AlphaWeights 打包与运行操作手册

老大爷，这份文档详细记录了如何把程序打包成可执行文件。针对您的需求，提供了两种打包方式：

1.  **方法一 (推荐)：使用 GitHub 云端自动打包**（一次性搞定 Windows 和 macOS）。
2.  **方法二：本地打包**（仅生成当前系统版本）。

---

## 方法一：利用 GitHub 云端打包 (推荐)
**适用场景**：想要同时获得 Windows 和 macOS 版本，或者不想在本地折腾环境。

### 操作步骤
1.  **提交代码**
    在您的本地项目目录中，将代码提交并推送到 GitHub 仓库：
    ```bash
    git add .
    git commit -m "更新代码"
    git push origin main
    ```

2.  **等待构建**
    推送成功后，GitHub 的服务器会自动开始工作。
    *   打开您的 GitHub 项目页面。
    *   点击顶部的 **"Actions"** 标签。
    *   您会看到一个正在转圈的任务（通常叫 "Build and Package"）。
    *   等待几分钟（大约 3-5 分钟），直到圆圈变成绿色的对勾 ✅。

3.  **下载程序**
    *   点击那个绿色的任务进入详情页。
    *   滚动到页面**最底部**的 "Artifacts" 区域。
    *   您会看到两个文件包：
        *   `AlphaWeights-Windows` (里面是 .exe 文件)
        *   `AlphaWeights-macOS` (里面是 Mac 可执行文件)
    *   点击下载即可。

---

## 方法二：本地打包
**适用场景**：只想快速在当前电脑上用一下，或者网络不好连不上 GitHub。

### 1. Windows 系统打包
在项目根目录下，提供了两种简单的方式，任选其一：

*   **方式 A (新版脚本)**：
    打开终端 (CMD 或 PowerShell)，运行：
    ```bash
    python build.py
    ```
*   **方式 B (旧版脚本)**：
    直接双击运行 `package.bat`。

**结果**：打包好的文件在 `dist/AlphaWeights.exe`。

### 2. macOS 系统打包 (如果您有 Mac 电脑)
在 Mac 终端中进入项目目录，运行：
```bash
python3 build.py
# 或者
sh package.sh
```

**结果**：打包好的文件在 `dist/AlphaWeights`。

---

## 用户使用说明

### 1. Windows 用户
*   双击 `AlphaWeights.exe` 即可运行。
*   程序会自动在同级目录生成 `data` 文件夹用于存储数据。
*   浏览器访问 `http://127.0.0.1:5000` 使用。

### 2. macOS 用户
*   将下载的 `AlphaWeights` 文件放到任意文件夹。
*   **初次运行权限问题**：
    由于我们没有买苹果昂贵的开发者证书，第一次运行时系统可能会拦截。
    *   **解决方法**：
        1.  不要直接双击打开。
        2.  按住 `Control` 键，点击文件，选择“打开”。
        3.  在弹出的警告框中点击“打开”或“仍要打开”。
        4.  或者在“系统设置 -> 隐私与安全性”中允许该应用运行。
*   之后就可以正常双击运行了。

---

## 常见问题
*   **Q: 为什么生成的 exe 被杀毒软件报毒？**
    *   A: 因为是个人开发者打包，没有购买数字签名证书。请放心，这是误报，加入信任列表即可。
*   **Q: 数据存在哪里？**
    *   A: 所有数据都保存在程序同级目录下的 `data/fund_monitor.db` 文件中。如果要迁移到别的电脑，记得**把 data 文件夹一起考走**。
